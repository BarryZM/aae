var dbits,canary=0xdeadbeefcafe,j_lm=15715070==(16777215&canary);function BigInteger(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function nbi(){return new BigInteger(null)}function am1(t,e,n,r,o,i){for(;0<=--i;){var a=e*this[t++]+n[r]+o;o=Math.floor(a/67108864);n[r++]=67108863&a}return o}function am2(t,e,n,r,o,i){var a=32767&e;for(e>>=15;0<=--i;){var s=32767&this[t],l=this[t++]>>15,c=e*s+l*a;o=((s=a*s+((32767&c)<<15)+n[r]+(1073741823&o))>>>30)+(c>>>15)+e*l+(o>>>30);n[r++]=1073741823&s}return o}function am3(t,e,n,r,o,i){var a=16383&e;for(e>>=14;0<=--i;){var s=16383&this[t],l=this[t++]>>14,c=e*s+l*a;o=((s=a*s+((16383&c)<<14)+n[r]+o)>>28)+(c>>14)+e*l;n[r++]=268435455&s}return o}dbits=j_lm&&"Microsoft Internet Explorer"==navigator.appName?(BigInteger.prototype.am=am2,30):j_lm&&"Netscape"!=navigator.appName?(BigInteger.prototype.am=am1,26):(BigInteger.prototype.am=am3,28),BigInteger.prototype.DB=dbits,BigInteger.prototype.DM=(1<<dbits)-1,BigInteger.prototype.DV=1<<dbits;var BI_FP=52;BigInteger.prototype.FV=Math.pow(2,BI_FP),BigInteger.prototype.F1=BI_FP-dbits,BigInteger.prototype.F2=2*dbits-BI_FP;var rr,vv,BI_RM="0123456789abcdefghijklmnopqrstuvwxyz",BI_RC=[];for(rr="0".charCodeAt(0),vv=0;vv<=9;++vv)BI_RC[rr++]=vv;for(rr="a".charCodeAt(0),vv=10;vv<36;++vv)BI_RC[rr++]=vv;for(rr="A".charCodeAt(0),vv=10;vv<36;++vv)BI_RC[rr++]=vv;function int2char(t){return BI_RM.charAt(t)}function intAt(t,e){var n=BI_RC[t.charCodeAt(e)];return null==n?-1:n}function bnpCopyTo(t){for(var e=this.t-1;0<=e;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function bnpFromInt(t){this.t=1,this.s=t<0?-1:0,0<t?this[0]=t:t<-1?this[0]=t+DV:this.t=0}function nbv(t){var e=nbi();return e.fromInt(t),e}function bnpFromString(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.s=this.t=0;for(var r=t.length,o=!1,i=0;0<=--r;){var a=8==n?255&t[r]:intAt(t,r);a<0?"-"==t.charAt(r)&&(o=!0):(o=!1,0==i?this[this.t++]=a:i+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-i)-1)<<i,this[this.t++]=a>>this.DB-i):this[this.t-1]|=a<<i,(i+=n)>=this.DB&&(i-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,0<i&&(this[this.t-1]|=(1<<this.DB-i)-1<<i)),this.clamp(),o&&BigInteger.ZERO.subTo(this,this)}function bnpClamp(){for(var t=this.s&this.DM;0<this.t&&this[this.t-1]==t;)--this.t}function bnToString(t){if(this.s<0)return"-"+this.negate().toString(t);if(16==t)t=4;else if(8==t)t=3;else if(2==t)t=1;else if(32==t)t=5;else if(64==t)t=6;else{if(4!=t)return this.toRadix(t);t=2}var e,n=(1<<t)-1,r=!1,o="",i=this.t,a=this.DB-i*this.DB%t;if(0<i--)for(a<this.DB&&0<(e=this[i]>>a)&&(r=!0,o=int2char(e));0<=i;)a<t?(e=(this[i]&(1<<a)-1)<<t-a,e|=this[--i]>>(a+=this.DB-t)):(e=this[i]>>(a-=t)&n,a<=0&&(a+=this.DB,--i)),0<e&&(r=!0),r&&(o+=int2char(e));return r?o:"0"}function bnNegate(){var t=nbi();return BigInteger.ZERO.subTo(this,t),t}function bnAbs(){return this.s<0?this.negate():this}function bnCompareTo(t){if(0!=(e=this.s-t.s))return e;var e,n=this.t;if(0!=(e=n-t.t))return e;for(;0<=--n;)if(0!=(e=this[n]-t[n]))return e;return 0}function nbits(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),t>>1!=0&&(n+=1),n}function bnBitLength(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)}function bnpDLShiftTo(t,e){var n;for(n=this.t-1;0<=n;--n)e[n+t]=this[n];for(n=t-1;0<=n;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function bnpDRShiftTo(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function bnpLShiftTo(t,e){var n,r=t%this.DB,o=this.DB-r,i=(1<<o)-1,a=Math.floor(t/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;0<=n;--n)e[n+a+1]=this[n]>>o|s,s=(this[n]&i)<<r;for(n=a-1;0<=n;--n)e[n]=0;e[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()}function bnpRShiftTo(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,o=this.DB-r,i=(1<<r)-1;e[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)e[a-n-1]|=(this[a]&i)<<o,e[a-n]=this[a]>>r;0<r&&(e[this.t-n-1]|=(this.s&i)<<o),e.t=this.t-n,e.clamp()}}function bnpSubTo(t,e){for(var n=0,r=0,o=Math.min(t.t,this.t);n<o;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:0<r&&(e[n++]=r),e.t=n,e.clamp()}function bnpMultiplyTo(t,e){var n=this.abs(),r=t.abs(),o=n.t;for(e.t=o+r.t;0<=--o;)e[o]=0;for(o=0;o<r.t;++o)e[o+n.t]=n.am(0,r[o],e,o,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&BigInteger.ZERO.subTo(e,e)}function bnpSquareTo(t){for(var e=this.abs(),n=t.t=2*e.t;0<=--n;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}0<t.t&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function bnpDivRemTo(t,e,n){var r=t.abs();if(!(r.t<=0)){var o=this.abs();if(o.t<r.t)null!=e&&e.fromInt(0),null!=n&&this.copyTo(n);else{null==n&&(n=nbi());var i=nbi(),a=this.s,s=(t=t.s,this.DB-nbits(r[r.t-1]));if(0<s?(r.lShiftTo(s,i),o.lShiftTo(s,n)):(r.copyTo(i),o.copyTo(n)),0!=(o=i[(r=i.t)-1])){var l=o*(1<<this.F1)+(1<r?i[r-2]>>this.F2:0),c=this.FV/l,p=(l=(1<<this.F1)/l,1<<this.F2),d=n.t,u=d-r,m=null==e?nbi():e;for(i.dlShiftTo(u,m),0<=n.compareTo(m)&&(n[n.t++]=1,n.subTo(m,n)),BigInteger.ONE.dlShiftTo(r,m),m.subTo(i,i);i.t<r;)i[i.t++]=0;for(;0<=--u;){var h=n[--d]==o?this.DM:Math.floor(n[d]*c+(n[d-1]+p)*l);if((n[d]+=i.am(0,h,n,u,0,r))<h)for(i.dlShiftTo(u,m),n.subTo(m,n);n[d]<--h;)n.subTo(m,n)}null!=e&&(n.drShiftTo(r,e),a!=t&&BigInteger.ZERO.subTo(e,e)),n.t=r,n.clamp(),0<s&&n.rShiftTo(s,n),a<0&&BigInteger.ZERO.subTo(n,n)}}}}function bnMod(t){var e=nbi();return this.abs().divRemTo(t,null,e),this.s<0&&0<e.compareTo(BigInteger.ZERO)&&t.subTo(e,e),e}function Classic(t){this.m=t}function cConvert(t){return t.s<0||0<=t.compareTo(this.m)?t.mod(this.m):t}function cRevert(t){return t}function cReduce(t){t.divRemTo(this.m,null,t)}function cMulTo(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function cSqrTo(t,e){t.squareTo(e),this.reduce(e)}function bnpInvDigit(){if(this.t<1)return 0;var t,e=this[0];return 0==(1&e)?0:0<(t=(t=(t=(t=(t=3&e)*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)?this.DV-t:-t}function Montgomery(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function montConvert(t){var e=nbi();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&0<e.compareTo(BigInteger.ZERO)&&this.m.subTo(e,e),e}function montRevert(t){var e=nbi();return t.copyTo(e),this.reduce(e),e}function montReduce(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n,r=(n=32767&t[e])*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),0<=t.compareTo(this.m)&&t.subTo(this.m,t)}function montSqrTo(t,e){t.squareTo(e),this.reduce(e)}function montMulTo(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function bnpIsEven(){return 0==(0<this.t?1&this[0]:this.s)}function bnpExp(t,e){if(4294967295<t||t<1)return BigInteger.ONE;var n=nbi(),r=nbi(),o=e.convert(this),i=nbits(t)-1;for(o.copyTo(n);0<=--i;)if(e.sqrTo(n,r),0<(t&1<<i))e.mulTo(r,o,n);else{var a=n;n=r,r=a}return e.revert(n)}function bnModPowInt(t,e){var n;return n=t<256||e.isEven()?new Classic(e):new Montgomery(e),this.exp(t,n)}function bnClone(){var t=nbi();return this.copyTo(t),t}function bnIntValue(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function bnByteValue(){return 0==this.t?this.s:this[0]<<24>>24}function bnShortValue(){return 0==this.t?this.s:this[0]<<16>>16}function bnpChunkSize(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function bnSigNum(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function bnpToRadix(t){if(null==t&&(t=10),0==this.signum()||t<2||36<t)return"0";var e=this.chunkSize(t),n=nbv(e=Math.pow(t,e)),r=nbi(),o=nbi(),i="";for(this.divRemTo(n,r,o);0<r.signum();)i=(e+o.intValue()).toString(t).substr(1)+i,r.divRemTo(n,r,o);return o.intValue().toString(t)+i}function bnpFromRadix(t,e){this.fromInt(0),null==e&&(e=10);for(var n=this.chunkSize(e),r=Math.pow(e,n),o=!1,i=0,a=0,s=0;s<t.length;++s){var l=intAt(t,s);l<0?"-"==t.charAt(s)&&0==this.signum()&&(o=!0):(a=e*a+l,++i>=n&&(this.dMultiply(r),this.dAddOffset(a,0),a=i=0))}0<i&&(this.dMultiply(Math.pow(e,i)),this.dAddOffset(a,0)),o&&BigInteger.ZERO.subTo(this,this)}function bnpFromNumber(t,e,n){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(BigInteger.ONE.shiftLeft(t-1),op_or,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(BigInteger.ONE.shiftLeft(t-1),this);else{var r=7&t;(n=[]).length=1+(t>>3),e.nextBytes(n),0<r?n[0]&=(1<<r)-1:n[0]=0,this.fromString(n,256)}}function bnToByteArray(){var t=this.t,e=[];e[0]=this.s;var n,r=this.DB-t*this.DB%8,o=0;if(0<t--)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[o++]=n|this.s<<this.DB-r);0<=t;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==o&&(128&this.s)!=(128&n)&&++o,(0<o||n!=this.s)&&(e[o++]=n);return e}function bnEquals(t){return 0==this.compareTo(t)}function bnMin(t){return this.compareTo(t)<0?this:t}function bnMax(t){return 0<this.compareTo(t)?this:t}function bnpBitwiseTo(t,e,n){var r,o,i=Math.min(t.t,this.t);for(r=0;r<i;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(o=t.s&this.DM,r=i;r<this.t;++r)n[r]=e(this[r],o);n.t=this.t}else{for(o=this.s&this.DM,r=i;r<t.t;++r)n[r]=e(o,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()}function op_and(t,e){return t&e}function bnAnd(t){var e=nbi();return this.bitwiseTo(t,op_and,e),e}function op_or(t,e){return t|e}function bnOr(t){var e=nbi();return this.bitwiseTo(t,op_or,e),e}function op_xor(t,e){return t^e}function bnXor(t){var e=nbi();return this.bitwiseTo(t,op_xor,e),e}function op_andnot(t,e){return t&~e}function bnAndNot(t){var e=nbi();return this.bitwiseTo(t,op_andnot,e),e}function bnNot(){for(var t=nbi(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function bnShiftLeft(t){var e=nbi();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function bnShiftRight(t){var e=nbi();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function lbit(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function bnGetLowestSetBit(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+lbit(this[t]);return this.s<0?this.t*this.DB:-1}function cbit(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function bnBitCount(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=cbit(this[n]^e);return t}function bnTestBit(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)}function bnpChangeBit(t,e){var n=BigInteger.ONE.shiftLeft(t);return this.bitwiseTo(n,e,n),n}function bnSetBit(t){return this.changeBit(t,op_or)}function bnClearBit(t){return this.changeBit(t,op_andnot)}function bnFlipBit(t){return this.changeBit(t,op_xor)}function bnpAddTo(t,e){for(var n=0,r=0,o=Math.min(t.t,this.t);n<o;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,0<r?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()}function bnAdd(t){var e=nbi();return this.addTo(t,e),e}function bnSubtract(t){var e=nbi();return this.subTo(t,e),e}function bnMultiply(t){var e=nbi();return this.multiplyTo(t,e),e}function bnSquare(){var t=nbi();return this.squareTo(t),t}function bnDivide(t){var e=nbi();return this.divRemTo(t,e,null),e}function bnRemainder(t){var e=nbi();return this.divRemTo(t,null,e),e}function bnDivideAndRemainder(t){var e=nbi(),n=nbi();return this.divRemTo(t,e,n),[e,n]}function bnpDMultiply(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function bnpDAddOffset(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function NullExp(){}function nNop(t){return t}function nMulTo(t,e,n){t.multiplyTo(e,n)}function nSqrTo(t,e){t.squareTo(e)}function bnPow(t){return this.exp(t,new NullExp)}function bnpMultiplyLowerTo(t,e,n){var r,o=Math.min(this.t+t.t,e);for(n.s=0,n.t=o;0<o;)n[--o]=0;for(r=n.t-this.t;o<r;++o)n[o+this.t]=this.am(0,t[o],n,o,0,this.t);for(r=Math.min(t.t,e);o<r;++o)this.am(0,t[o],n,o,0,e-o);n.clamp()}function bnpMultiplyUpperTo(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;0<=--r;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)}function Barrett(t){this.r2=nbi(),this.q3=nbi(),BigInteger.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function barrettConvert(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=nbi();return t.copyTo(e),this.reduce(e),e}function barrettRevert(t){return t}function barrettReduce(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);0<=t.compareTo(this.m);)t.subTo(this.m,t)}function barrettSqrTo(t,e){t.squareTo(e),this.reduce(e)}function barrettMulTo(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function bnModPow(t,e){var n,r,o=t.bitLength(),i=nbv(1);if(o<=0)return i;n=o<18?1:o<48?3:o<144?4:o<768?5:6,r=o<8?new Classic(e):e.isEven()?new Barrett(e):new Montgomery(e);var a=[],s=3,l=n-1,c=(1<<n)-1;if(a[1]=r.convert(this),1<n)for(o=nbi(),r.sqrTo(a[1],o);s<=c;)a[s]=nbi(),r.mulTo(o,a[s-2],a[s]),s+=2;var p,d=t.t-1,u=!0,m=nbi();for(o=nbits(t[d])-1;0<=d;){for(l<=o?p=t[d]>>o-l&c:(p=(t[d]&(1<<o+1)-1)<<l-o,0<d&&(p|=t[d-1]>>this.DB+o-l)),s=n;0==(1&p);)p>>=1,--s;if((o-=s)<0&&(o+=this.DB,--d),u)a[p].copyTo(i),u=!1;else{for(;1<s;)r.sqrTo(i,m),r.sqrTo(m,i),s-=2;0<s?r.sqrTo(i,m):(s=i,i=m,m=s),r.mulTo(m,a[p],i)}for(;0<=d&&0==(t[d]&1<<o);)r.sqrTo(i,m),s=i,i=m,m=s,--o<0&&(o=this.DB-1,--d)}return r.revert(i)}function bnGCD(t){var e=this.s<0?this.negate():this.clone();t=t.s<0?t.negate():t.clone();if(e.compareTo(t)<0){var n=e;e=t,t=n}n=e.getLowestSetBit();var r=t.getLowestSetBit();if(r<0)return e;for(n<r&&(r=n),0<r&&(e.rShiftTo(r,e),t.rShiftTo(r,t));0<e.signum();)0<(n=e.getLowestSetBit())&&e.rShiftTo(n,e),0<(n=t.getLowestSetBit())&&t.rShiftTo(n,t),0<=e.compareTo(t)?(e.subTo(t,e),e.rShiftTo(1,e)):(t.subTo(e,t),t.rShiftTo(1,t));return 0<r&&t.lShiftTo(r,t),t}function bnpModInt(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(0<this.t)if(0==e)n=this[0]%t;else for(var r=this.t-1;0<=r;--r)n=(e*n+this[r])%t;return n}function bnModInverse(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return BigInteger.ZERO;for(var n=t.clone(),r=this.clone(),o=nbv(1),i=nbv(0),a=nbv(0),s=nbv(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),e?(o.isEven()&&i.isEven()||(o.addTo(this,o),i.subTo(t,i)),o.rShiftTo(1,o)):i.isEven()||i.subTo(t,i),i.rShiftTo(1,i);for(;r.isEven();)r.rShiftTo(1,r),e?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(t,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);0<=n.compareTo(r)?(n.subTo(r,n),e&&o.subTo(a,o),i.subTo(s,i)):(r.subTo(n,r),e&&a.subTo(o,a),s.subTo(i,s))}return 0!=r.compareTo(BigInteger.ONE)?BigInteger.ZERO:0<=s.compareTo(t)?s.subtract(t):s.signum()<0?(s.addTo(t,s),s.signum()<0?s.add(t):s):s}Classic.prototype.convert=cConvert,Classic.prototype.revert=cRevert,Classic.prototype.reduce=cReduce,Classic.prototype.mulTo=cMulTo,Classic.prototype.sqrTo=cSqrTo,Montgomery.prototype.convert=montConvert,Montgomery.prototype.revert=montRevert,Montgomery.prototype.reduce=montReduce,Montgomery.prototype.mulTo=montMulTo,Montgomery.prototype.sqrTo=montSqrTo,BigInteger.prototype.copyTo=bnpCopyTo,BigInteger.prototype.fromInt=bnpFromInt,BigInteger.prototype.fromString=bnpFromString,BigInteger.prototype.clamp=bnpClamp,BigInteger.prototype.dlShiftTo=bnpDLShiftTo,BigInteger.prototype.drShiftTo=bnpDRShiftTo,BigInteger.prototype.lShiftTo=bnpLShiftTo,BigInteger.prototype.rShiftTo=bnpRShiftTo,BigInteger.prototype.subTo=bnpSubTo,BigInteger.prototype.multiplyTo=bnpMultiplyTo,BigInteger.prototype.squareTo=bnpSquareTo,BigInteger.prototype.divRemTo=bnpDivRemTo,BigInteger.prototype.invDigit=bnpInvDigit,BigInteger.prototype.isEven=bnpIsEven,BigInteger.prototype.exp=bnpExp,BigInteger.prototype.toString=bnToString,BigInteger.prototype.negate=bnNegate,BigInteger.prototype.abs=bnAbs,BigInteger.prototype.compareTo=bnCompareTo,BigInteger.prototype.bitLength=bnBitLength,BigInteger.prototype.mod=bnMod,BigInteger.prototype.modPowInt=bnModPowInt,BigInteger.ZERO=nbv(0),BigInteger.ONE=nbv(1),NullExp.prototype.convert=nNop,NullExp.prototype.revert=nNop,NullExp.prototype.mulTo=nMulTo,NullExp.prototype.sqrTo=nSqrTo,Barrett.prototype.convert=barrettConvert,Barrett.prototype.revert=barrettRevert,Barrett.prototype.reduce=barrettReduce,Barrett.prototype.mulTo=barrettMulTo,Barrett.prototype.sqrTo=barrettSqrTo;var lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],lplim=67108864/lowprimes[lowprimes.length-1];function bnIsProbablePrime(t){var e,n=this.abs();if(1==n.t&&n[0]<=lowprimes[lowprimes.length-1]){for(e=0;e<lowprimes.length;++e)if(n[0]==lowprimes[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<lowprimes.length;){for(var r=lowprimes[e],o=e+1;o<lowprimes.length&&r<lplim;)r*=lowprimes[o++];for(r=n.modInt(r);e<o;)if(r%lowprimes[e++]==0)return!1}return n.millerRabin(t)}function bnpMillerRabin(t){var e=this.subtract(BigInteger.ONE),n=e.getLowestSetBit();if(n<=0)return!1;var r=e.shiftRight(n);(t=t+1>>1)>lowprimes.length&&(t=lowprimes.length);for(var o=nbi(),i=0;i<t;++i){o.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);var a=o.modPow(r,this);if(0!=a.compareTo(BigInteger.ONE)&&0!=a.compareTo(e)){for(var s=1;s++<n&&0!=a.compareTo(e);)if(0==(a=a.modPowInt(2,this)).compareTo(BigInteger.ONE))return!1;if(0!=a.compareTo(e))return!1}}return!0}function SeededRandom(){}function SRnextBytes(t){var e;for(e=0;e<t.length;e++)t[e]=Math.floor(256*Math.random())}function Arcfour(){this.j=this.i=0,this.S=[]}function ARC4init(t){var e,n,r;for(e=0;e<256;++e)this.S[e]=e;for(e=n=0;e<256;++e)n=n+this.S[e]+t[e%t.length]&255,r=this.S[e],this.S[e]=this.S[n],this.S[n]=r;this.j=this.i=0}function ARC4next(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]}function prng_newstate(){return new Arcfour}BigInteger.prototype.chunkSize=bnpChunkSize,BigInteger.prototype.toRadix=bnpToRadix,BigInteger.prototype.fromRadix=bnpFromRadix,BigInteger.prototype.fromNumber=bnpFromNumber,BigInteger.prototype.bitwiseTo=bnpBitwiseTo,BigInteger.prototype.changeBit=bnpChangeBit,BigInteger.prototype.addTo=bnpAddTo,BigInteger.prototype.dMultiply=bnpDMultiply,BigInteger.prototype.dAddOffset=bnpDAddOffset,BigInteger.prototype.multiplyLowerTo=bnpMultiplyLowerTo,BigInteger.prototype.multiplyUpperTo=bnpMultiplyUpperTo,BigInteger.prototype.modInt=bnpModInt,BigInteger.prototype.millerRabin=bnpMillerRabin,BigInteger.prototype.clone=bnClone,BigInteger.prototype.intValue=bnIntValue,BigInteger.prototype.byteValue=bnByteValue,BigInteger.prototype.shortValue=bnShortValue,BigInteger.prototype.signum=bnSigNum,BigInteger.prototype.toByteArray=bnToByteArray,BigInteger.prototype.equals=bnEquals,BigInteger.prototype.min=bnMin,BigInteger.prototype.max=bnMax,BigInteger.prototype.and=bnAnd,BigInteger.prototype.or=bnOr,BigInteger.prototype.xor=bnXor,BigInteger.prototype.andNot=bnAndNot,BigInteger.prototype.not=bnNot,BigInteger.prototype.shiftLeft=bnShiftLeft,BigInteger.prototype.shiftRight=bnShiftRight,BigInteger.prototype.getLowestSetBit=bnGetLowestSetBit,BigInteger.prototype.bitCount=bnBitCount,BigInteger.prototype.testBit=bnTestBit,BigInteger.prototype.setBit=bnSetBit,BigInteger.prototype.clearBit=bnClearBit,BigInteger.prototype.flipBit=bnFlipBit,BigInteger.prototype.add=bnAdd,BigInteger.prototype.subtract=bnSubtract,BigInteger.prototype.multiply=bnMultiply,BigInteger.prototype.divide=bnDivide,BigInteger.prototype.remainder=bnRemainder,BigInteger.prototype.divideAndRemainder=bnDivideAndRemainder,BigInteger.prototype.modPow=bnModPow,BigInteger.prototype.modInverse=bnModInverse,BigInteger.prototype.pow=bnPow,BigInteger.prototype.gcd=bnGCD,BigInteger.prototype.isProbablePrime=bnIsProbablePrime,BigInteger.prototype.square=bnSquare,function(o,i,l,t,a,s,c){function p(t){var e,n,s=this,r=t.length,o=0,i=s.i=s.j=s.m=0;for(s.S=[],s.c=[],r||(t=[r++]);o<l;)s.S[o]=o++;for(o=0;o<l;o++)i=i+(e=s.S[o])+t[o%r]&255,n=s.S[i],s.S[o]=n,s.S[i]=e;s.g=function(t){var e=s.S,n=s.i+1&255,r=e[n],o=s.j+r&255,i=e[o];e[n]=i,e[o]=r;for(var a=e[r+i&255];--t;)i=e[o=o+(r=e[n=n+1&255])&255],e[n]=i,e[o]=r,a=a*l+e[r+i&255];return s.i=n,s.j=o,a},s.g(l)}function d(t,e,n,r){for(t+="",r=n=0;r<t.length;r++){var o=e,i=255&r,a=(n^=19*e[255&r])+t.charCodeAt(r);o[i]=255&a}for(r in t="",e)t+=String.fromCharCode(e[r]);return t}i.seedrandom=function(t,e){var r,n=[];t=d(function t(e,n,r,o,i){if(r=[],i=typeof e,n&&"object"==i)for(o in e)if(o.indexOf("S")<5)try{r.push(t(e[o],n-1))}catch(t){}return r.length?r:e+("string"!=i?"\0":"")}(e?[t,o]:arguments.length?t:[(new Date).getTime(),o,window],3),n);return d((r=new p(n)).S,o),i.random=function(){for(var t=r.g(6),e=c,n=0;t<a;)t=(t+n)*l,e*=l,n=r.g(1);for(;s<=t;)t/=2,e/=2,n>>>=1;return(t+n)/e},t},c=i.pow(l,6),a=i.pow(2,a),s=2*a,d(i.random(),o)}([],Math,256,0,52),SeededRandom.prototype.nextBytes=SRnextBytes,Arcfour.prototype.init=ARC4init,Arcfour.prototype.next=ARC4next;var rng_state,rng_pool,rng_pptr,rng_psize=256;function rng_seed_int(t){rng_pool[rng_pptr++]^=255&t,rng_pool[rng_pptr++]^=t>>8&255,rng_pool[rng_pptr++]^=t>>16&255,rng_pool[rng_pptr++]^=t>>24&255,rng_psize<=rng_pptr&&(rng_pptr-=rng_psize)}function rng_seed_time(){rng_seed_int((new Date).getTime())}if(null==rng_pool){var t;if(rng_pool=[],rng_pptr=0,"Netscape"==navigator.appName&&navigator.appVersion<"5"&&window.crypto){var z=window.crypto.random(32);for(t=0;t<z.length;++t)rng_pool[rng_pptr++]=255&z.charCodeAt(t)}for(;rng_pptr<rng_psize;)t=Math.floor(65536*Math.random()),rng_pool[rng_pptr++]=t>>>8,rng_pool[rng_pptr++]=255&t;rng_pptr=0,rng_seed_time()}function rng_get_byte(){if(null==rng_state){for(rng_seed_time(),(rng_state=prng_newstate()).init(rng_pool),rng_pptr=0;rng_pptr<rng_pool.length;++rng_pptr)rng_pool[rng_pptr]=0;rng_pptr=0}return rng_state.next()}function rng_get_bytes(t){var e;for(e=0;e<t.length;++e)t[e]=rng_get_byte()}function SecureRandom(){}function SHA256(t){function v(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function y(t,e){return t>>>e|t<<32-e}return function(t){for(var e="",n=0;n<4*t.length;n++)e+="0123456789abcdef".charAt(t[n>>2]>>8*(3-n%4)+4&15)+"0123456789abcdef".charAt(t[n>>2]>>8*(3-n%4)&15);return e}(function(t,e){var n,r,o,i,a,s,l,c,p,d,u,m,h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],f=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],g=Array(64);for(t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e,p=0;p<t.length;p+=16){for(n=f[0],r=f[1],o=f[2],i=f[3],a=f[4],s=f[5],l=f[6],c=f[7],d=0;d<64;d++)g[d]=d<16?t[d+p]:v(v(v(y(g[d-2],17)^y(g[d-2],19)^g[d-2]>>>10,g[d-7]),y(g[d-15],7)^y(g[d-15],18)^g[d-15]>>>3),g[d-16]),u=v(v(v(v(c,y(a,6)^y(a,11)^y(a,25)),a&s^~a&l),h[d]),g[d]),m=v(y(n,2)^y(n,13)^y(n,22),n&r^n&o^r&o),c=l,l=s,s=a,a=v(i,u),i=o,o=r,r=n,n=v(u,m);f[0]=v(n,f[0]),f[1]=v(r,f[1]),f[2]=v(o,f[2]),f[3]=v(i,f[3]),f[4]=v(a,f[4]),f[5]=v(s,f[5]),f[6]=v(l,f[6]),f[7]=v(c,f[7])}return f}(function(t){for(var e=[],n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<24-n%32;return e}(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):(127<r&&r<2048?e+=String.fromCharCode(r>>6|192):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128)),e+=String.fromCharCode(63&r|128))}return e}(t)),8*t.length))}SecureRandom.prototype.nextBytes=rng_get_bytes;var sha256={hex:function(t){return SHA256(t)}};function SHA1(t){function e(t,e){return t<<e|t>>>32-e}function n(t){var e,n="";for(e=7;0<=e;e--)n+=(t>>>4*e&15).toString(16);return n}var r,o,i,a,s,l,c,p=Array(80),d=1732584193,u=4023233417,m=2562383102,h=271733878,f=3285377520;i=(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):(127<r&&r<2048?e+=String.fromCharCode(r>>6|192):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128)),e+=String.fromCharCode(63&r|128))}return e}(t)).length;var g=[];for(r=0;r<i-3;r+=4)o=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),g.push(o);switch(i%4){case 0:r=2147483648;break;case 1:r=t.charCodeAt(i-1)<<24|8388608;break;case 2:r=t.charCodeAt(i-2)<<24|t.charCodeAt(i-1)<<16|32768;break;case 3:r=t.charCodeAt(i-3)<<24|t.charCodeAt(i-2)<<16|t.charCodeAt(i-1)<<8|128}for(g.push(r);g.length%16!=14;)g.push(0);for(g.push(i>>>29),g.push(i<<3&4294967295),t=0;t<g.length;t+=16){for(r=0;r<16;r++)p[r]=g[t+r];for(r=16;r<=79;r++)p[r]=e(p[r-3]^p[r-8]^p[r-14]^p[r-16],1);for(o=d,i=u,a=m,s=h,l=f,r=0;r<=19;r++)c=e(o,5)+(i&a|~i&s)+l+p[r]+1518500249&4294967295,l=s,s=a,a=e(i,30),i=o,o=c;for(r=20;r<=39;r++)c=e(o,5)+(i^a^s)+l+p[r]+1859775393&4294967295,l=s,s=a,a=e(i,30),i=o,o=c;for(r=40;r<=59;r++)c=e(o,5)+(i&a|i&s|a&s)+l+p[r]+2400959708&4294967295,l=s,s=a,a=e(i,30),i=o,o=c;for(r=60;r<=79;r++)c=e(o,5)+(i^a^s)+l+p[r]+3395469782&4294967295,l=s,s=a,a=e(i,30),i=o,o=c;d=d+o&4294967295,u=u+i&4294967295,m=m+a&4294967295,h=h+s&4294967295,f=f+l&4294967295}return(c=n(d)+n(u)+n(m)+n(h)+n(f)).toLowerCase()}var sha1={hex:function(t){return SHA1(t)}},MD5=function(t){function s(t,e){var n,r,o,i,a;return o=2147483648&t,i=2147483648&e,a=(1073741823&t)+(1073741823&e),(n=1073741824&t)&(r=1073741824&e)?2147483648^a^o^i:n|r?1073741824&a?3221225472^a^o^i:1073741824^a^o^i:a^o^i}function e(t,e,n,r,o,i,a){return s((t=s(t,s(s(e&n|~e&r,o),a)))<<i|t>>>32-i,e)}function n(t,e,n,r,o,i,a){return s((t=s(t,s(s(e&r|n&~r,o),a)))<<i|t>>>32-i,e)}function r(t,e,n,r,o,i,a){return s((t=s(t,s(s(e^n^r,o),a)))<<i|t>>>32-i,e)}function o(t,e,n,r,o,i,a){return s((t=s(t,s(s(n^(e|~r),o),a)))<<i|t>>>32-i,e)}function i(t){var e,n="",r="";for(e=0;e<=3;e++)n+=(r="0"+(r=t>>>8*e&255).toString(16)).substr(r.length-2,2);return n}var a,l,c,p,d,u,m,h,f=function(t){for(var e,n=t.length,r=16*(((e=n+8)-e%64)/64+1),o=Array(r-1),i=0,a=0;a<n;)i=a%4*8,o[e=(a-a%4)/4]|=t.charCodeAt(a)<<i,a++;return o[(a-a%4)/4]|=128<<a%4*8,o[r-2]=n<<3,o[r-1]=n>>>29,o}(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):(127<r&&r<2048?e+=String.fromCharCode(r>>6|192):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128)),e+=String.fromCharCode(63&r|128))}return e}(t));for(d=1732584193,u=4023233417,m=2562383102,h=271733878,t=0;t<f.length;t+=16)u=o(u=o(u=o(u=o(u=r(u=r(u=r(u=r(u=n(u=n(u=n(u=n(u=e(u=e(u=e(u=e(l=u,m=e(c=m,h=e(p=h,d=e(a=d,u,m,h,f[t+0],7,3614090360),u,m,f[t+1],12,3905402710),d,u,f[t+2],17,606105819),h,d,f[t+3],22,3250441966),m=e(m,h=e(h,d=e(d,u,m,h,f[t+4],7,4118548399),u,m,f[t+5],12,1200080426),d,u,f[t+6],17,2821735955),h,d,f[t+7],22,4249261313),m=e(m,h=e(h,d=e(d,u,m,h,f[t+8],7,1770035416),u,m,f[t+9],12,2336552879),d,u,f[t+10],17,4294925233),h,d,f[t+11],22,2304563134),m=e(m,h=e(h,d=e(d,u,m,h,f[t+12],7,1804603682),u,m,f[t+13],12,4254626195),d,u,f[t+14],17,2792965006),h,d,f[t+15],22,1236535329),m=n(m,h=n(h,d=n(d,u,m,h,f[t+1],5,4129170786),u,m,f[t+6],9,3225465664),d,u,f[t+11],14,643717713),h,d,f[t+0],20,3921069994),m=n(m,h=n(h,d=n(d,u,m,h,f[t+5],5,3593408605),u,m,f[t+10],9,38016083),d,u,f[t+15],14,3634488961),h,d,f[t+4],20,3889429448),m=n(m,h=n(h,d=n(d,u,m,h,f[t+9],5,568446438),u,m,f[t+14],9,3275163606),d,u,f[t+3],14,4107603335),h,d,f[t+8],20,1163531501),m=n(m,h=n(h,d=n(d,u,m,h,f[t+13],5,2850285829),u,m,f[t+2],9,4243563512),d,u,f[t+7],14,1735328473),h,d,f[t+12],20,2368359562),m=r(m,h=r(h,d=r(d,u,m,h,f[t+5],4,4294588738),u,m,f[t+8],11,2272392833),d,u,f[t+11],16,1839030562),h,d,f[t+14],23,4259657740),m=r(m,h=r(h,d=r(d,u,m,h,f[t+1],4,2763975236),u,m,f[t+4],11,1272893353),d,u,f[t+7],16,4139469664),h,d,f[t+10],23,3200236656),m=r(m,h=r(h,d=r(d,u,m,h,f[t+13],4,681279174),u,m,f[t+0],11,3936430074),d,u,f[t+3],16,3572445317),h,d,f[t+6],23,76029189),m=r(m,h=r(h,d=r(d,u,m,h,f[t+9],4,3654602809),u,m,f[t+12],11,3873151461),d,u,f[t+15],16,530742520),h,d,f[t+2],23,3299628645),m=o(m,h=o(h,d=o(d,u,m,h,f[t+0],6,4096336452),u,m,f[t+7],10,1126891415),d,u,f[t+14],15,2878612391),h,d,f[t+5],21,4237533241),m=o(m,h=o(h,d=o(d,u,m,h,f[t+12],6,1700485571),u,m,f[t+3],10,2399980690),d,u,f[t+10],15,4293915773),h,d,f[t+1],21,2240044497),m=o(m,h=o(h,d=o(d,u,m,h,f[t+8],6,1873313359),u,m,f[t+15],10,4264355552),d,u,f[t+6],15,2734768916),h,d,f[t+13],21,1309151649),m=o(m,h=o(h,d=o(d,u,m,h,f[t+4],6,4149444226),u,m,f[t+11],10,3174756917),d,u,f[t+2],15,718787259),h,d,f[t+9],21,3951481745),d=s(d,a),u=s(u,l),m=s(m,c),h=s(h,p);return(i(d)+i(u)+i(m)+i(h)).toLowerCase()};function parseBigInt(t,e){return new BigInteger(t,e)}function linebrk(t,e){for(var n="",r=0;r+e<t.length;)n+=t.substring(r,r+e)+"\n",r+=e;return n+t.substring(r,t.length)}function byte2Hex(t){return t<16?"0"+t.toString(16):t.toString(16)}function pkcs1pad2(t,e){if(e<t.length+11)throw"Message too long for RSA (n="+e+", l="+t.length+")";for(var n=[],r=t.length-1;0<=r&&0<e;){var o=t.charCodeAt(r--);n[--e]=o<128?o:127<o&&o<2048?(n[--e]=63&o|128,o>>6|192):(n[--e]=63&o|128,n[--e]=o>>6&63|128,o>>12|224)}for(n[--e]=0,r=new SecureRandom,o=[];2<e;){for(o[0]=0;0==o[0];)r.nextBytes(o);n[--e]=o[0]}return n[--e]=2,n[--e]=0,new BigInteger(n)}function RSAKey(){this.n=null,this.e=0,this.coeff=this.dmq1=this.dmp1=this.q=this.p=this.d=null}function RSASetPublic(t,e){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=parseBigInt(t,16),this.e=parseInt(e,16)):alert("Invalid RSA public key")}function RSADoPublic(t){return t.modPowInt(this.e,this.n)}function RSAEncrypt(t){return null==(t=pkcs1pad2(t,this.n.bitLength()+7>>3))?null:null==(t=this.doPublic(t))?null:0==(1&(t=t.toString(16)).length)?t:"0"+t}function pkcs1unpad2(t,e){for(var n=t.toByteArray(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=e-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var o="";++r<n.length;){var i=255&n[r];i<128?o+=String.fromCharCode(i):191<i&&i<224?(o+=String.fromCharCode((31&i)<<6|63&n[r+1]),++r):(o+=String.fromCharCode((15&i)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return o}function RSASetPrivate(t,e,n){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=parseBigInt(t,16),this.e=parseInt(e,16),this.d=parseBigInt(n,16)):alert("Invalid RSA private key")}function RSASetPrivateEx(t,e,n,r,o,i,a,s){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=parseBigInt(t,16),this.e=parseInt(e,16),this.d=parseBigInt(n,16),this.p=parseBigInt(r,16),this.q=parseBigInt(o,16),this.dmp1=parseBigInt(i,16),this.dmq1=parseBigInt(a,16),this.coeff=parseBigInt(s,16)):alert("Invalid RSA private key")}function RSAGenerate(t,e){var n=new SeededRandom,r=t>>1;this.e=parseInt(e,16);for(var o=new BigInteger(e,16);;){for(;this.p=new BigInteger(t-r,1,n),0!=this.p.subtract(BigInteger.ONE).gcd(o).compareTo(BigInteger.ONE)||!this.p.isProbablePrime(10););for(;this.q=new BigInteger(r,1,n),0!=this.q.subtract(BigInteger.ONE).gcd(o).compareTo(BigInteger.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var i=this.p;this.p=this.q,this.q=i}i=this.p.subtract(BigInteger.ONE);var a=this.q.subtract(BigInteger.ONE),s=i.multiply(a);if(0==s.gcd(o).compareTo(BigInteger.ONE)){this.n=this.p.multiply(this.q),this.d=o.modInverse(s),this.dmp1=this.d.mod(i),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}}function RSADoPrivate(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);var e=t.mod(this.p).modPow(this.dmp1,this.p);for(t=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(t)<0;)e=e.add(this.p);return e.subtract(t).multiply(this.coeff).mod(this.p).multiply(this.q).add(t)}function RSADecrypt(t){return null==(t=this.doPrivate(parseBigInt(t,16)))?null:pkcs1unpad2(t,this.n.bitLength()+7>>3)}RSAKey.prototype.doPublic=RSADoPublic,RSAKey.prototype.setPublic=RSASetPublic,RSAKey.prototype.encrypt=RSAEncrypt,RSAKey.prototype.doPrivate=RSADoPrivate,RSAKey.prototype.setPrivate=RSASetPrivate,RSAKey.prototype.setPrivateEx=RSASetPrivateEx,RSAKey.prototype.generate=RSAGenerate,RSAKey.prototype.decrypt=RSADecrypt;var _RSASIGN_DIHEAD=[];_RSASIGN_DIHEAD.sha1="3021300906052b0e03021a05000414",_RSASIGN_DIHEAD.sha256="3031300d060960864801650304020105000420";var _RSASIGN_HASHHEXFUNC=[];function _rsasign_getHexPaddedDigestInfoForString(t,e,n){e/=4;t=(0,_RSASIGN_HASHHEXFUNC[n])(t),n="00"+_RSASIGN_DIHEAD[n]+t,t="",e=e-4-n.length;for(var r=0;r<e;r+=2)t+="ff";return sPaddedMessageHex="0001"+t+n}function _rsasign_signString(t,e){var n=_rsasign_getHexPaddedDigestInfoForString(t,this.n.bitLength(),e);return this.doPrivate(parseBigInt(n,16)).toString(16)}function _rsasign_signStringWithSHA1(t){return t=_rsasign_getHexPaddedDigestInfoForString(t,this.n.bitLength(),"sha1"),this.doPrivate(parseBigInt(t,16)).toString(16)}function _rsasign_signStringWithSHA256(t){return t=_rsasign_getHexPaddedDigestInfoForString(t,this.n.bitLength(),"sha256"),this.doPrivate(parseBigInt(t,16)).toString(16)}function _rsasign_getDecryptSignatureBI(t,e,n){var r=new RSAKey;return r.setPublic(e,n),r.doPublic(t)}function _rsasign_getHexDigestInfoFromSig(t,e,n){return _rsasign_getDecryptSignatureBI(t,e,n).toString(16).replace(/^1f+00/,"")}function _rsasign_getAlgNameAndHashFromHexDisgestInfo(t){for(var e in _RSASIGN_DIHEAD){var n=_RSASIGN_DIHEAD[e],r=n.length;if(t.substring(0,r)==n)return[e,t.substring(r)]}return[]}function _rsasign_verifySignatureWithArgs(t,e,n,r){return 0!=(n=_rsasign_getAlgNameAndHashFromHexDisgestInfo(e=_rsasign_getHexDigestInfoFromSig(e,n,r))).length&&(e=n[1])==(t=(0,_RSASIGN_HASHHEXFUNC[n[0]])(t))}function _rsasign_verifyHexSignatureForMessage(t,e){return _rsasign_verifySignatureWithArgs(e,parseBigInt(t,16),this.n.toString(16),this.e.toString(16))}function _rsasign_verifyString(t,e){e=e.replace(/[ \n]+/g,"");var n=this.doPublic(parseBigInt(e,16)).toString(16).replace(/^1f+00/,""),r=_rsasign_getAlgNameAndHashFromHexDisgestInfo(n);return 0!=r.length&&(n=r[1])==(r=(0,_RSASIGN_HASHHEXFUNC[r[0]])(t))}_RSASIGN_HASHHEXFUNC.sha1=sha1.hex,_RSASIGN_HASHHEXFUNC.sha256=sha256.hex,RSAKey.prototype.signString=_rsasign_signString,RSAKey.prototype.signStringWithSHA1=_rsasign_signStringWithSHA1,RSAKey.prototype.signStringWithSHA256=_rsasign_signStringWithSHA256,RSAKey.prototype.verifyString=_rsasign_verifyString,RSAKey.prototype.verifyHexSignatureForMessage=_rsasign_verifyHexSignatureForMessage;var aes=function(){var c={Sbox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],ShiftRowTab:[0,5,10,15,4,9,14,3,8,13,2,7,12,1,6,11],Init:function(){c.Sbox_Inv=Array(256);for(var t=0;t<256;t++)c.Sbox_Inv[c.Sbox[t]]=t;for(c.ShiftRowTab_Inv=Array(16),t=0;t<16;t++)c.ShiftRowTab_Inv[c.ShiftRowTab[t]]=t;for(c.xtime=Array(256),t=0;t<128;t++)c.xtime[t]=t<<1,c.xtime[128+t]=t<<1^27},Done:function(){delete c.Sbox_Inv,delete c.ShiftRowTab_Inv,delete c.xtime},ExpandKey:function(t){var e,n=t.length,r=1;switch(n){case 16:e=176;break;case 24:e=208;break;case 32:e=240;break;default:alert("my.ExpandKey: Only key lengths of 16, 24 or 32 bytes allowed!")}for(var o=n;o<e;o+=4){var i=t.slice(o-4,o);o%n==0?(i=[c.Sbox[i[1]]^r,c.Sbox[i[2]],c.Sbox[i[3]],c.Sbox[i[0]]],256<=(r<<=1)&&(r^=283)):24<n&&o%n==16&&(i=[c.Sbox[i[0]],c.Sbox[i[1]],c.Sbox[i[2]],c.Sbox[i[3]]]);for(var a=0;a<4;a++)t[o+a]=t[o+a-n]^i[a]}},Encrypt:function(t,e){var n=e.length;c.AddRoundKey(t,e.slice(0,16));for(var r=16;r<n-16;r+=16)c.SubBytes(t,c.Sbox),c.ShiftRows(t,c.ShiftRowTab),c.MixColumns(t),c.AddRoundKey(t,e.slice(r,r+16));c.SubBytes(t,c.Sbox),c.ShiftRows(t,c.ShiftRowTab),c.AddRoundKey(t,e.slice(r,n))},Decrypt:function(t,e){var n=e.length;for(c.AddRoundKey(t,e.slice(n-16,n)),c.ShiftRows(t,c.ShiftRowTab_Inv),c.SubBytes(t,c.Sbox_Inv),n-=32;16<=n;n-=16)c.AddRoundKey(t,e.slice(n,n+16)),c.MixColumns_Inv(t),c.ShiftRows(t,c.ShiftRowTab_Inv),c.SubBytes(t,c.Sbox_Inv);c.AddRoundKey(t,e.slice(0,16))},SubBytes:function(t,e){for(var n=0;n<16;n++)t[n]=e[t[n]]},AddRoundKey:function(t,e){for(var n=0;n<16;n++)t[n]^=e[n]},ShiftRows:function(t,e){for(var n=[].concat(t),r=0;r<16;r++)t[r]=n[e[r]]},MixColumns:function(t){for(var e=0;e<16;e+=4){var n=t[e+0],r=t[e+1],o=t[e+2],i=t[e+3],a=n^r^o^i;t[e+0]^=a^c.xtime[n^r],t[e+1]^=a^c.xtime[r^o],t[e+2]^=a^c.xtime[o^i],t[e+3]^=a^c.xtime[i^n]}},MixColumns_Inv:function(t){for(var e=0;e<16;e+=4){var n=t[e+0],r=t[e+1],o=t[e+2],i=t[e+3],a=n^r^o^i,s=c.xtime[a],l=c.xtime[c.xtime[s^n^o]]^a;a^=c.xtime[c.xtime[s^r^i]],t[e+0]^=l^c.xtime[n^r],t[e+1]^=a^c.xtime[r^o],t[e+2]^=l^c.xtime[o^i],t[e+3]^=a^c.xtime[i^n]}}};return c}(),cryptico=function(){var l={};return aes.Init(),l.b256to64=function(t){var e,n,r,o="",i=0,a=t.length;for(r=0;r<a;r++)n=t.charCodeAt(r),0==i?(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>2&63),e=(3&n)<<4):1==i?(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e|n>>4&15),e=(15&n)<<2):2==i&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e|n>>6&3),1,o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&n)),1,3==(i+=1)&&(i=0);return 0<i&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e),o+="="),1==i&&(o+="="),o},l.b64to256=function(t){var e,n,r="",o=0,i=0,a=t.length;for(n=0;n<a;n++)0<=(e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(n)))&&(o&&(r+=String.fromCharCode(i|e>>6-o&255)),i=e<<(o=o+2&7)&255);return r},l.b16to64=function(t){var e,n,r="";for(t.length%2==1&&(t="0"+t),e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>6)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>2)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((3&n)<<4));0<(3&r.length);)r+="=";return r},l.b64to16=function(t){var e,n,r="",o=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e)v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(e)),v<0||(o=0==o?(r+=int2char(v>>2),n=3&v,1):1==o?(r+=int2char(n<<2|v>>4),n=15&v,2):2==o?(r+=int2char(n),r+=int2char(v>>2),n=3&v,3):(r+=int2char(n<<2|v>>4),r+=int2char(15&v),0));return 1==o&&(r+=int2char(n<<2)),r},l.string2bytes=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n));return e},l.bytes2string=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},l.blockXOR=function(t,e){for(var n=Array(16),r=0;r<16;r++)n[r]=t[r]^e[r];return n},l.blockIV=function(){var t=new SecureRandom,e=Array(16);return t.nextBytes(e),e},l.pad16=function(t){var e=t.slice(0),n=(16-t.length%16)%16;for(i=t.length;i<t.length+n;i++)e.push(0);return e},l.depad=function(t){for(t=t.slice(0);0==t[t.length-1];)t=t.slice(0,t.length-1);return t},l.encryptAESCBC=function(t,e){var n=e.slice(0);aes.ExpandKey(n);for(var r=l.string2bytes(t),o=(r=l.pad16(r),l.blockIV()),i=0;i<r.length/16;i++){var a=r.slice(16*i,16*i+16),s=o.slice(16*i,16*i+16);a=l.blockXOR(s,a);aes.Encrypt(a,n),o=o.concat(a)}return n=l.bytes2string(o),l.b256to64(n)},l.decryptAESCBC=function(t,e){var n=e.slice(0);aes.ExpandKey(n);t=l.b64to256(t);for(var r=l.string2bytes(t),o=[],i=1;i<r.length/16;i++){var a=r.slice(16*i,16*i+16),s=r.slice(16*(i-1),16*(i-1)+16);aes.Decrypt(a,n),a=l.blockXOR(s,a),o=o.concat(a)}return o=l.depad(o),l.bytes2string(o)},l.wrap60=function(t){for(var e="",n=0;n<t.length;n++)n%60==0&&0!=n&&(e+="\n"),e+=t[n];return e},l.generateAESKey=function(){var t=Array(32);return(new SecureRandom).nextBytes(t),t},l.generateRSAKey=function(t,e){Math.seedrandom(sha256.hex(t));var n=new RSAKey;return n.generate(e,"03"),n},l.publicKeyString=function(t){return pubkey=l.b16to64(t.n.toString(16))},l.publicKeyID=function(t){return MD5(t)},l.publicKeyFromString=function(t){t=l.b64to16(t.split("|")[0]);var e=new RSAKey;return e.setPublic(t,"03"),e},l.encrypt=function(t,e,n){var r="",o=l.generateAESKey();try{var i=l.publicKeyFromString(e);r+=l.b16to64(i.encrypt(l.bytes2string(o)))+"?"}catch(t){return{status:"Invalid public key"}}return n&&(signString=cryptico.b16to64(n.signString(t,"sha256")),t+="::52cee64bb3a38f6403386519a39ac91c::",t+=cryptico.publicKeyString(n),t+="::52cee64bb3a38f6403386519a39ac91c::",t+=signString),{status:"success",cipher:r+=l.encryptAESCBC(t,o)}},l.decrypt=function(t,e){var n=t.split("?");if(null==(r=e.decrypt(l.b64to16(n[0]))))return{status:"failure"};if(r=l.string2bytes(r),3!=(n=l.decryptAESCBC(n[1],r).split("::52cee64bb3a38f6403386519a39ac91c::")).length)return{status:"success",plaintext:n[0],signature:"unsigned"};var r=l.publicKeyFromString(n[1]),o=l.b64to16(n[2]);return r.verifyString(n[0],o)?{status:"success",plaintext:n[0],signature:"verified",publicKeyString:l.publicKeyString(r)}:{status:"success",plaintext:n[0],signature:"forged",publicKeyString:l.publicKeyString(r)}},l}(),CryptoJS=CryptoJS||function(s,t){var e={},n=e.lib={},r=n.Base=function(){function n(){}return{extend:function(t){n.prototype=this;var e=new n;return t&&e.mixIn(t),e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.$super.extend(this)}}}(),l=n.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||i).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes;t=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<t;o++)e[r+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(r+o)%4*8;else if(65535<n.length)for(o=0;o<t;o+=4)e[r+o>>>2]=n[o>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=s.ceil(e/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(4294967296*s.random()|0);return l.create(e,t)}}),o=e.enc={},i=o.Hex={stringify:function(t){for(var e=t.words,n=(t=t.sigBytes,[]),r=0;r<t;r++){var o=e[r>>>2]>>>24-r%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return l.create(n,e/2)}},a=o.Latin1={stringify:function(t){for(var e=t.words,n=(t=t.sigBytes,[]),r=0;r<t;r++)n.push(String.fromCharCode(e[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return l.create(n,e)}},c=o.Utf8={stringify:function(t){try{return decodeURIComponent(escape(a.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return a.parse(unescape(encodeURIComponent(t)))}},p=n.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=l.create(),this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=c.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,n=e.words,r=e.sigBytes,o=this.blockSize,i=r/(4*o);t=(i=t?s.ceil(i):s.max((0|i)-this._minBufferSize,0))*o,r=s.min(4*t,r);if(t){for(var a=0;a<t;a+=o)this._doProcessBlock(n,a);a=n.splice(0,t),e.sigBytes-=r}return l.create(a,r)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});n.Hasher=p.extend({init:function(){this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize(),this._hash},clone:function(){var t=p.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:16,_createHelper:function(n){return function(t,e){return n.create(e).finalize(t)}},_createHmacHelper:function(n){return function(t,e){return d.HMAC.create(n,e).finalize(t)}}});var d=e.algo={};return e}(Math);function dateFormator(t,e){var n=t.ReplaceAll("-","/").ReplaceAll("年","/").ReplaceAll("月","/").ReplaceAll("日"," ").ReplaceAll("时",":").ReplaceAll("分",":").ReplaceAll("秒","");return moment(new Date(n)).format(e)}!function(o){var t=CryptoJS,e=(n=t.lib).WordArray,n=n.Hasher,r=t.algo,i=[],h=[];!function(){function t(t){for(var e=o.sqrt(t),n=2;n<=e;n++)if(!(t%n))return!1;return!0}function e(t){return 4294967296*(t-(0|t))|0}for(var n=2,r=0;r<64;)t(n)&&(r<8&&(i[r]=e(o.pow(n,.5))),h[r]=e(o.pow(n,1/3)),r++),n++}();var f=[];r=r.SHA256=n.extend({_doReset:function(){this._hash=e.create(i.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],l=n[5],c=n[6],p=n[7],d=0;d<64;d++){if(d<16)f[d]=0|t[e+d];else{var u=f[d-15],m=f[d-2];f[d]=((u<<25|u>>>7)^(u<<14|u>>>18)^u>>>3)+f[d-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+f[d-16]}u=p+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&c)+h[d]+f[d],m=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&o^r&i^o&i),p=c,c=l,l=s,s=a+u|0,a=i,i=o,o=r,r=u+m|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+c|0,n[7]=n[7]+p|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process()}});t.SHA256=n._createHelper(r),t.HmacSHA256=n._createHmacHelper(r)}(Math),function(){var t=CryptoJS,c=t.enc.Utf8;t.algo.HMAC=t.lib.Base.extend({init:function(t,e){t=this._hasher=t.create(),"string"==typeof e&&(e=c.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e));for(var o=this._oKey=e.clone(),i=this._iKey=e.clone(),a=o.words,s=i.words,l=0;l<n;l++)a[l]^=1549556828,s[l]^=909522486;o.sigBytes=i.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;t=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(t))}})}(),function(){var t=CryptoJS,l=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();t=[];for(var o=0;o<n;o+=3)for(var i=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)t.push(r.charAt(i>>>6*(3-a)&63));if(e=r.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var e=t.length,n=this._map;(r=n.charAt(64))&&(-1!=(r=t.indexOf(r))&&(e=r));for(var r=[],o=0,i=0;i<e;i++)if(i%4){var a=n.indexOf(t.charAt(i-1))<<i%4*2,s=n.indexOf(t.charAt(i))>>>6-i%4*2;r[o>>>2]|=(a|s)<<24-o%4*8,o++}return l.create(r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(){"use strict";function t(t){t.onBefore({to:function(t){return!t.name.endsWith(".**")&&"app.login"!==t.name&&!t.name.startsWith("app.pages")}},function(t){t.$to();if(!t.injector().get("authService").isAuthenticated())return t.router.stateService.target("app.login",void 0,{location:!1})})}angular.module("block.auth",["ui.router","LocalStorageModule","restangular"]).run(t),t.$inject=["$transitions"]}(),function(){"use strict";function t(t,s,l){function c(){var e=t.defer();return l.one("/system/organization/users/current/privileges").get().then(function(t){currentUserVisitPrivileges=t.visitPrivileges,currentUserOperationPrivileges=t.operationPrivileges,e.resolve()}),e.promise}this.isAuthenticated=function(){return null!=s.get("access_token")},this.loadCurrentUserPrivileges=c,this.authenticate=function(o,i){var a=t.defer();return l.one("/system/auth/authority/token",o).get().then(function(t){var e,n,r;t.passed?(s.set("access_token",t.token),e=t.token,n={userName:o,signData:(r=CryptoJS.enc.Base64.stringify(CryptoJS.HmacSHA256(o,i)),CryptoJS.enc.Base64.stringify(CryptoJS.HmacSHA256(r,e)))},l.one("/system/auth/authority/verify").customPUT(n).then(function(t){t.passed?(c(),a.resolve(o)):a.reject(t.message)})):a.reject(t.message)}),a.promise},this.logout=function(){var e=t.defer();return l.one("/system/auth/authority/logout").put().then(function(t){t.passed?(s.remove("access_token"),e.resolve()):e.reject(t.message)}),e.promise}}angular.module("block.auth").service("authService",t),t.$inject=["$q","localStorageService","Restangular"]}(),function(){"use strict";angular.module("app",["app.core"])}(),function(){"use strict";function t(t,e){e.otherwise("/dashboard"),t.state("app",{abstract:!0,ncyBreadcrumb:{label:"Root",skip:!0},views:{"":{templateUrl:"layout/views/layout.html",controller:"LayoutController",controllerAs:"vm"},"header@app":{templateUrl:"layout/views/header.html",controller:"HeaderController",controllerAs:"vm"},"footer@app":{templateUrl:"layout/views/footer.html"},"sidebar@app":{templateUrl:"layout/views/sidebar.html",controller:"SidebarController",controllerAs:"vm"},"aside@app":{templateUrl:"layout/views/aside.html"}},lazyLoad:r}).state("app.dashboard.**",{url:"^/dashboard",ncyBreadcrumb:{label:"Home"},lazyLoad:n}).state("app.login.**",{url:"/login",lazyLoad:o}).state("app.logout.**",{url:"/logout",lazyLoad:o}).state("app.pages.**",{url:"/pages",lazyLoad:i})}function n(t){return t.injector().get("$ocLazyLoad").load({serie:!0,files:["home/dashboard/dashboard.module.js","home/dashboard/dashboard.route.js"]})}function r(t){var e=t.injector().get("$parse");return laydate.path="resources/js/layui-laydate/",laydate.set({parse:e,allowKeyword:!1}),t.injector().get("$ocLazyLoad").load({serie:!0,files:["layout/controllers/layout.controller.js","layout/controllers/header.controller.js","layout/controllers/sidebar.controller.js"]})}function o(t){return t.injector().get("$ocLazyLoad").load({serie:!0,files:["home/login/login.module.js","home/login/login.route.js"]})}function i(t){return t.injector().get("$ocLazyLoad").load({serie:!0,files:["home/pages/pages.module.js","home/pages/pages.route.js"]})}angular.module("app").config(t),t.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function t(t,e,n,r,o){t.setOptions({prefixStateName:"app.dashboard",includeAbstract:!0,template:'<li class="breadcrumb-item" ng-repeat="step in steps" ng-class="{active: $last}" ng-switch="$last || !!step.abstract"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span></li>'}),n.setPrefix("app").setStorageType("sessionStorage").setNotify(!0,!0),r.includeSpinner=!1,r.latencyThreshold=1,$.notifyDefaults({type:"success",z_index:1300,delay:1e3,animate:{enter:"animated rotateInDownRight",exit:"animated rotateOutUpRight"}}),o.autoBlock=!1,o.requestFilter=function(t){var e="请求正在处理中……";switch(t.method){case"GET":e="数据加载中……";break;case"POST":e="正在处理……";break;case"PUT":e="数据更新中……";break;case"DELETE":e="数据删除中……";break;default:e="请求正在处理中……"}return e}}function e(t,n,r,e){return{request:function(t){return t.headers=t.headers||{},t.headers["X-Auth-Token"]=e.get("access_token"),t},requestError:function(t){return n.reject(t)},responseError:function(t){if(401==t.status&&r.go("app.login"),403==t.status&&r.go("app.pages.403"),404==t.status&&r.go("app.pages.404"),500==t.status){var e={title:t.data.error,message:t.data.message};$.notifyError(e)}return n.reject(t)}}}angular.module("app").factory("httpInterceptor",e).config(t),t.$inject=["$breadcrumbProvider","$ocLazyLoadProvider","localStorageServiceProvider","cfpLoadingBarProvider","blockUIConfig"],e.$inject=["$rootScope","$q","$state","localStorageService"]}(),function(){"use strict";function t(t,e,n,r){r.setBaseUrl("./"),e.interceptors.push("httpInterceptor")}angular.module("app").config(t),t.$inject=["$stateProvider","$httpProvider","$urlRouterProvider","RestangularProvider"]}(),function(){"use strict";angular.module("app.core",["ui.router","oc.lazyLoad","angular-loading-bar","LocalStorageModule","ncy-angular-breadcrumb","restangular","blockUI"])}(),function(){"use strict";function t(o){return{restrict:"A",link:function(t,e,n){var r=o(n.ngModel).assign;e.bind("change",function(){alert($(e).val()),t.$apply(function(){r(t,$(e).val())})})}}}function e(t){return{restrict:"E",link:function(t,e,n){e.on("click",function(){e.hasClass("sidebar-toggler")&&angular.element("body").toggleClass("sidebar-hidden"),e.hasClass("aside-menu-toggler")&&angular.element("body").toggleClass("aside-menu-hidden")})}}}angular.module("app.core").directive("includeReplace",function(){return{require:"ngInclude",restrict:"A",link:function(t,e,n){e.replaceWith(e.children())}}}).directive("a",e).directive("a",function(){return{restrict:"E",link:function(t,e,n){e.hasClass("nav-dropdown-toggle")&&782<angular.element("body").width()?e.on("click",function(){angular.element("body").hasClass("compact-nav")||e.parent().toggleClass("open").find(".open").removeClass("open")}):e.hasClass("nav-dropdown-toggle")&&angular.element("body").width()<783&&e.on("click",function(){e.parent().toggleClass("open").find(".open").removeClass("open")})}}}).directive("button",e).directive("button",function(){return{restrict:"E",link:function(t,e,n){e.on("click",function(){e.hasClass("navbar-toggler")&&!e.hasClass("layout-toggler")&&angular.element("body").toggleClass("sidebar-mobile-show")})}}}).directive("button",function(){return{restrict:"E",link:function(t,e,n){if("collapse"==n.toggle&&e.parent().hasClass("card-actions")){e.parent().parent().parent().find(".card-body").hasClass("in")&&e.find("i").addClass("r180");var r="collapse-"+Math.floor(1e9*Math.random()+1);e.attr("data-target","#"+r),e.parent().parent().parent().find(".card-body").attr("id",r),e.on("click",function(){e.find("i").toggleClass("r180")})}}}}).directive("div",function(){return{restrict:"E",link:function(t,e,n){"carousel"==n.ride&&e.find("a").each(function(){$(this).attr("href")&&$(this).attr("data-target",$(this).attr("href").replace("index.html","")).attr("href","javascript;;")})}}}).directive("toggle",function(){return{restrict:"A",link:function(t,e,n){"tooltip"==n.toggle&&angular.element(e).tooltip();"popover"==n.toggle&&angular.element(e).popover()}}}).directive("textChange",t),t.$inject=["$parse"],e.$inject=["$interval"]}(),function(){"use strict";function t(e){return function(t){return e.trustAsHtml(t)}}angular.module("app.core").filter("trustHtml",t),t.$inject=["$sce"]}(),function(){"use strict";angular.module("app.core").filter("formatDate",function(){return function(t,e){var n=moment(t).format(e);return"1900-01-01"==n?"":n}})}(),function(){"use strict";angular.module("app.core").filter("formatString",function(){return function(t,e){return t.length>e?t.substr(0,e)+"……":t}})}(),function(a){"use strict";a.module("app.pagination",[]).constant("ngPaginationConfig",{visiblePageCount:5,showFirstLastText:!0}).directive("ngPagination",["ngPaginationConfig",function(i){return{link:function(r,t,e){function n(){var t,e,n;if(r.pagenums=[],0!==r.pageCount)for(r.currentPage>r.pageCount&&(r.currentPage=1),r.pageCount<=o?(t=1,e=r.pageCount):(n=Math.ceil(o/2),t=Math.max(r.currentPage-n,1),e=Math.min(t+o-1,r.pageCount),r.pageCount-e<n&&(t=e-o+1));t<=e;t++)r.pagenums.push(t)}var o=a.isDefined(e.visiblePageCount)?e.visiblePageCount:i.visiblePageCount;r.showFirstLastText=a.isDefined(e.showFirstLastText)?e.showFirstLastText:i.showFirstLastText,r.currentPage=1,r.pageChange=function(t){1<=t&&t<=r.pageCount?r.currentPage=t:r.currentPage=1},r.keyupHanlder=function(t){var e=t.target.value,n=parseInt(e,10);if(Number.isNaN(n)){if(!t.preventDefault)return!1;t.preventDefault()}else 1<=n&&n<=r.pageCount||(t.target.value=n<1?1:r.pageCount),13===t.keyCode&&(r.currentPage=n)},r.$watch("currentPage",function(t,e){t!==e&&(n(),r.onPageChange())}),r.$watch("totalSize",function(t,e){r.pageCount=Math.ceil(r.totalSize/r.pageSize),t&&n()})},replace:!0,restrict:"E",scope:{totalSize:"=",pageSize:"=",currentPage:"=",onPageChange:"&"},template:'<nav aria-label="Page navigation" class="float-right">\n    <ul class="pagination">\n        <li class="page-item">\n            <a class="page-link" ng-click="pageChange(1)" ng-if="showFirstLastText" aria-label="First" >\n                <i class="fa fa-step-backward" aria-hidden="true"></i>\n            </a>\n        </li>\n        <li class="page-item">\n            <a class="page-link page-link-prev" ng-click="pageChange(currentPage-1>0?currentPage-1:1)" aria-label="Previous" >\n                <i class="fa fa-backward" aria-hidden="true"></i>\n            </a>\n        </li>\n        <li ng-repeat="pagenum in pagenums track by pagenum" ng-class="{\'active\':currentPage===pagenum}" class="page-item"><a class="page-link" ng-click="pageChange(pagenum)">{{pagenum}}</a></li>\n        <li class="page-item">\n            <a class="page-link page-link-next" ng-click="pageChange(currentPage+1<=pageCount?currentPage+1:pageCount)" aria-label="Next">\n                 <i class="fa fa-forward" aria-hidden="true"></i>\n            </a>\n        </li>\n        <li class="page-item">\n            <a class="page-link" ng-click="pageChange(pageCount)" ng-if="showFirstLastText" aria-label="Last">\n                 <i class="fa fa-step-forward" aria-hidden="true"></i>\n            </a>\n        </li>\n    </ul>\n</nav>'}}])}(angular),function(){"use strict";angular.module("app.core").directive("repeatFinish",function(){return{link:function(t,e,n){!0===t.$last&&t.$eval(n.repeatFinish)}}})}(),function(){"use strict";function t(o){return{restrict:"A",link:function(t,e,n){var r=function(){_.some(currentUserVisitPrivileges,{code:n.menucode})};0==currentUserVisitPrivileges.length?o.loadCurrentUserPrivileges().then(r):r()}}}angular.module("app.core").directive("visitPrivilege",t),t.$inject=["authService"]}(),function(){"use strict";function t(o){return{restrict:"A",link:function(t,e,n){var r=function(){var t=o.current.name;_.some(currentUserOperationPrivileges,{menuCode:t,code:n.operationcode})};0==currentUserOperationPrivileges.length?authService.loadCurrentUserPrivileges().then(r):r()}}}angular.module("app.core").directive("operationPrivilege",t),t.$inject=["$state"]}(),function(){"use strict";function t(o,t,i){return{replace:!0,restrict:"E",scope:{vmModel:"=",showItems:"@",doOk:"&"},template:"<div></div>",link:function(n,t,e){var r;r=$("<div class='row'>\n    <div class='col'>\n        <div class='nav nav-pills nav-fill'>\n            <div class='btn-group btn-block btn-group-sm w-100' role='group'>\n                <button id='btn_DAY' type='button' ng-if=\"itemsContains('DAY')\" data-target='#tabDay' data-toggle='tab' class='btn btn-raised btn-primary tab-type' ng-click=\"chooseDateType($event,'DAY')\">日</button>\n                <button id='btn_FIVE' type='button' ng-if=\"itemsContains('FIVE')\" data-target='#tabFive' data-toggle='tab' class='btn btn-raised btn-primary tab-type' ng-click=\"chooseDateType($event,'FIVE')\">候</button>\n                <button id='btn_PERIOD' type='button' ng-if=\"itemsContains('PERIOD')\" data-target='#tabPeriod' data-toggle='tab' class='btn btn-raised btn-primary tab-type' ng-click=\"chooseDateType($event,'PERIOD')\">旬</button>\n                <button id='btn_MON' type='button' ng-if=\"itemsContains('MON')\" data-target='#tabMonth' data-toggle='tab' class='btn btn-raised btn-primary tab-type'  ng-click=\"chooseDateType($event,'MON')\">月</button>\n                <button id='btn_SEASON' type='button' ng-if=\"itemsContains('SEASON')\" data-target='#tabSeason' data-toggle='tab' class='btn btn-raised btn-primary tab-type' ng-click=\"chooseDateType($event,'SEASON')\">季</button>\n                <button id='btn_YEAR' type='button' ng-if=\"itemsContains('YEAR')\" data-target='#tabYear' data-toggle='tab' class='btn btn-raised btn-primary tab-type' ng-click=\"chooseDateType($event,'YEAR')\">年</button>\n            </div>\n        </div>\n    </div>\n</div>\n<div class='row'>\n    <div class='col'>\n        <div class='btn-group btn-block btn-group-sm w-100' role='group'>\n            <button type='button' class='btn btn-primary w-50 time-slot active' ng-click=\"chooseTimeSlot($event,'OBO')\">{{vmModel.dateTypeText}}</button>\n            <button type='button' class='btn btn-primary w-50 time-slot ' ng-click=\"chooseTimeSlot($event,'ANY')\">任意时段</button>\n        </div>\n    </div>\n</div>\n<div class='tab-content pb-3'>\n    <div role='tabpanel' class='tab-pane fade' id='tabDay'>\n        <div class='row' ng-show=\"vmModel.timeSlot=='OBO'\">\n            <div class='col-4 pt-2'><nobr>选择日期</nobr></div>\n            <div class='col-8 pl-0 pt-1'>\n                <input type='text' id='inputDay' class='form-control p-1' ng-model='params.day' autocomplete='off' placeholder='选择日期'>\n            </div>\n        </div>\n        <div class='row' ng-show=\"vmModel.timeSlot=='ANY'\">\n            <div class='col-4 pt-2'><nobr>起始日期</nobr></div>\n            <div class='col-8 pl-0 pt-1'>\n                <input type='text' id='inputStartDay' class='form-control p-1' ng-model='params.startDay' autocomplete='off' placeholder='选择日期'>\n            </div>\n        </div>\n        <div class='row' ng-show=\"vmModel.timeSlot=='ANY'\">\n            <div class='col-4 pt-2'><nobr>截止日期</nobr></div>\n            <div class='col-8 pl-0 pt-1'>\n                <input type='text' id='inputEndDay' class='form-control p-1' ng-model='params.endDay' autocomplete='off' placeholder='选择日期'>\n            </div>\n        </div>\n    </div>\n    <div role='tabpanel' class='tab-pane fade' id='tabFive'>\n        <div class='row' ng-show=\"vmModel.timeSlot=='OBO'\">\n            <div class='col-4 pt-2'><nobr>选择月份</nobr></div>\n            <div class='col-5 pl-0 pt-1'>\n                <input type='text' id='inputFive' class='form-control p-1' ng-model='params.fiveMonth' autocomplete='off' placeholder='选择月份'>\n            </div>\n            <div class='col-3 pl-0 p-1'>\n                <select class='form-control p-1 ps-005' ng-model='params.fiveDay'  ng-options='item.name for item in fives'></select>\n            </div>\n        </div>\n        <div class='row' ng-show=\"vmModel.timeSlot=='ANY'\">\n            <div class='col-4 pt-2'><nobr>起始日期</nobr></div>\n            <div class='col-5 pl-0 pt-1'>\n                <input type='text' id='inputStartFive' class='form-control p-1' ng-model='params.startFiveMonth' autocomplete='off' placeholder='选择月份'>\n            </div>\n            <div class='col-3 pl-0 p-1'>\n                <select class='form-control p-1 ps-005' ng-model='params.startFiveDay'  ng-options='item.name for item in fives'></select>\n            </div>\n        </div>\n        <div class='row' ng-show=\"vmModel.timeSlot=='ANY'\">\n            <div class='col-4 pt-2'><nobr>截止日期</nobr></div>\n            <div class='col-5 pl-0 pt-1'>\n                <input type='text' id='inputEndFive' class='form-control p-1' ng-model='params.endFiveMonth' autocomplete='off' placeholder='选择月份'>\n            </div>\n            <div class='col-3 pl-0 p-1'>\n                <select class='form-control p-1 ps-005' ng-model='params.endFiveDay'  ng-options='item.name for item in fives'></select>\n            </div>\n        </div>\n    </div>\n    <div role='tabpanel' class='tab-pane fade' id='tabPeriod'>\n        <div class='row' ng-show=\"vmModel.timeSlot=='OBO'\">\n            <div class='col-4 pt-2'><nobr>选择月份</nobr></div>\n            <div class='col-5 pl-0 pt-1'>\n                <input type='text' id='inputPeriod' class='form-control p-1' ng-model='params.periodMonth' autocomplete='off' placeholder='选择月份'>\n            </div>\n            <div class='col-3 pl-0 p-1'>\n                <select class='form-control p-1 ps-005' ng-model='params.periodDay'  ng-options='item.name for item in periods'></select>\n            </div>\n        </div>\n        <div class='row' ng-show=\"vmModel.timeSlot=='ANY'\">\n            <div class='col-4 pt-2'><nobr>起始日期</nobr></div>\n            <div class='col-5 pl-0 pt-1'>\n                <input type='text' id='inputStartPeriod' class='form-control p-1' ng-model='params.startPeriodMonth' autocomplete='off' placeholder='选择月份'>\n            </div>\n            <div class='col-3 pl-0 p-1'>\n                <select class='form-control p-1 ps-005' ng-model='params.startPeriodDay'  ng-options='item.name for item in periods'></select>\n            </div>\n        </div>\n        <div class='row' ng-show=\"vmModel.timeSlot=='ANY'\">\n            <div class='col-4 pt-2'><nobr>截止日期</nobr></div>\n            <div class='col-5 pl-0 pt-1'>\n                <input type='text' id='inputEndPeriod' class='form-control p-1' ng-model='params.endPeriodMonth' autocomplete='off' placeholder='选择月份'>\n            </div>\n            <div class='col-3 pl-0 p-1'>\n                <select class='form-control p-1 ps-005' ng-model='params.endPeriodDay'  ng-options='item.name for item in periods'></select>\n            </div>\n        </div>\n    </div>\n    <div role='tabpanel' class='tab-pane fade' id='tabMonth'>\n        <div class='row' ng-show=\"vmModel.timeSlot=='OBO'\">\n            <div class='col-4 pt-2'><nobr>选择月份</nobr></div>\n            <div class='col-8 pl-0 pt-1'>\n                <input type='text' id='inputMonth' class='form-control p-1' ng-model='params.month' autocomplete='off' placeholder='选择月份'>\n            </div>\n        </div>\n        <div class='row' ng-show=\"vmModel.timeSlot=='ANY'\">\n            <div class='col-4 pt-2'><nobr>起始日期</nobr></div>\n            <div class='col-8 pl-0 pt-1'>\n                <input type='text' id='inputStartMonth' class='form-control p-1' ng-model='params.startMonth' autocomplete='off' placeholder='选择月份'>\n            </div>\n        </div>\n        <div class='row' ng-show=\"vmModel.timeSlot=='ANY'\">\n            <div class='col-4 pt-2'><nobr>截止日期</nobr></div>\n            <div class='col-8 pl-0 pt-1'>\n                <input type='text' id='inputEndMonth' class='form-control p-1' ng-model='params.endMonth' autocomplete='off' placeholder='选择月份'>\n            </div>\n        </div>\n    </div>\n    <div role='tabpanel' class='tab-pane fade' id='tabSeason'>\n        <div class='row' ng-show=\"vmModel.timeSlot=='OBO'\">\n            <div class='col-4 pt-2'><nobr>选择年份</nobr></div>\n            <div class='col-5 pl-0 pt-1'>\n                <input type='text' id='inputSeason' class='form-control p-1' ng-model='params.seasonYear' autocomplete='off' placeholder='选择年份'>\n            </div>\n            <div class='col-3 pl-0 p-1'>\n                <select class='form-control p-1 ps-005' ng-model='params.seasonDay'  ng-options='item.name for item in seasons'></select>\n            </div>\n        </div>\n        <div class='row' ng-show=\"vmModel.timeSlot=='ANY'\">\n            <div class='col-4 pt-2'><nobr>起始日期</nobr></div>\n            <div class='col-5 pl-0 pt-1'>\n                <input type='text' id='inputStartSeason' class='form-control p-1' ng-model='params.startSeasonYear' autocomplete='off' placeholder='选择年份'>\n            </div>\n            <div class='col-3 pl-0 p-1'>\n                <select class='form-control p-1 ps-005' ng-model='params.startSeasonDay'  ng-options='item.name for item in seasons'></select>\n            </div>\n        </div>\n        <div class='row' ng-show=\"vmModel.timeSlot=='ANY'\">\n            <div class='col-4 pt-2'><nobr>截止日期</nobr></div>\n            <div class='col-5 pl-0 pt-1'>\n                <input type='text' id='inputEndSeason' class='form-control p-1' ng-model='params.endSeasonYear' autocomplete='off' placeholder='选择年份'>\n            </div>\n            <div class='col-3 pl-0 p-1'>\n                <select class='form-control p-1 ps-005' ng-model='params.endSeasonDay'  ng-options='item.name for item in seasons'></select>\n            </div>\n        </div>\n    </div>\n    <div role='tabpanel' class='tab-pane fade' id='tabYear'>\n        <div class='row' ng-show=\"vmModel.timeSlot=='OBO'\">\n            <div class='col-4 pt-2'><nobr>选择年份</nobr></div>\n            <div class='col-8 pl-0 pt-1'>\n                <input type='text' id='inputYear' class='form-control p-1' ng-model='params.year' autocomplete='off' placeholder='选择年份'>\n            </div>\n        </div>\n        <div class='row' ng-show=\"vmModel.timeSlot=='ANY'\">\n            <div class='col-4 pt-2'><nobr>起始日期</nobr></div>\n            <div class='col-8 pl-0 pt-1'>\n                <input type='text' id='inputStartYear' class='form-control p-1' ng-model='params.startYear' autocomplete='off' placeholder='选择年份'>\n            </div>\n        </div>\n        <div class='row' ng-show=\"vmModel.timeSlot=='ANY'\">\n            <div class='col-4 pt-2'><nobr>截止日期</nobr></div>\n            <div class='col-8 pl-0 pt-1'>\n                <input type='text' id='inputEndYear' class='form-control p-1' ng-model='params.endYear' autocomplete='off' placeholder='选择年份'>\n            </div>\n        </div>\n    </div>\n</div>\n<div class='row'>\n    <div class='col text-right'>\n        <button class='btn btn-primary' ng-click='doSearch()'>查询</button>\n    </div>\n</div>"),t.append(r),o(t.contents())(n),n.params={},n.showItems&&0!=n.showItems.length||(n.showItems="DAY"),n.seasons=[{name:"春季",code:"01"},{name:"夏季",code:"02"},{name:"秋季",code:"03"},{name:"冬季",code:"04"}],n.periods=[{name:"上旬",code:"01"},{name:"中旬",code:"02"},{name:"下旬",code:"03"}],n.fives=[{name:"1候",code:"01"},{name:"2候",code:"02"},{name:"3候",code:"03"},{name:"4候",code:"04"},{name:"5候",code:"05"},{name:"6候",code:"06"}],n.itemsContains=function(t){var e=n.showItems.split(",");return 0<=_.indexOf(e,t)&&($("#btn_"+t).attr("style","width:"+101/e.length+"%"),!0)},n.chooseDateType=function(t,e){switch(n.vmModel.dateType=e){case"DAY":n.vmModel.dateTypeText="逐日";break;case"FIVE":n.vmModel.dateTypeText="逐候";break;case"PERIOD":n.vmModel.dateTypeText="逐旬";break;case"MON":n.vmModel.dateTypeText="逐月";break;case"SEASON":n.vmModel.dateTypeText="逐季";break;case"YEAR":n.vmModel.dateTypeText="逐年"}$(".tab-type").removeClass("active"),$(t.target).addClass("active"),$(".tab-pane").removeClass("show active"),$($(t.target).attr("data-target")).addClass("show active")},n.chooseTimeSlot=function(t,e){n.vmModel.timeSlot=e,$(".time-slot").removeClass("active"),$(t.target).addClass("active")},n.formatDate=function(){if("OBO"==n.vmModel.timeSlot)switch(n.vmModel.startDate=null,n.vmModel.endDate=null,n.vmModel.dateType){case"DAY":n.vmModel.queryDate=moment(n.params.day,"YYYY年MM月DD日").format("YYYY-MM-DD"),n.vmModel.queryDateText=n.params.day;break;case"FIVE":n.vmModel.queryDate=moment(n.params.fiveMonth,"YYYY年MM月").format("YYYY-MM")+"-"+n.params.fiveDay.code,n.vmModel.queryDateText=n.params.fiveMonth+n.params.fiveDay.name;break;case"PERIOD":n.vmModel.queryDate=moment(n.params.periodMonth,"YYYY年MM月").format("YYYY-MM")+"-"+n.params.periodDay.code,n.vmModel.queryDateText=n.params.periodMonth+n.params.periodDay.name;break;case"MON":n.vmModel.queryDate=moment(n.params.month,"YYYY年MM月").format("YYYY-MM"),n.vmModel.queryDateText=n.params.month;break;case"SEASON":n.vmModel.queryDate=moment(n.params.seasonYear,"YYYY年").format("YYYY")+"-"+n.params.seasonDay.name,n.vmModel.queryDateText=n.params.seasonYear+n.params.seasonDay.name;break;case"YEAR":n.vmModel.queryDate=moment(n.params.year,"YYYY年").format("YYYY"),n.vmModel.queryDateText=n.params.year}else switch(n.vmModel.queryDate=null,n.vmModel.dateType){case"DAY":n.vmModel.startDate=moment(n.params.startDay,"YYYY年MM月DD日").format("YYYY-MM-DD"),n.vmModel.endDate=moment(n.params.endDay,"YYYY年MM月DD日").format("YYYY-MM-DD"),n.vmModel.queryDateText=n.params.startDay+" 至 "+n.params.endDay;break;case"FIVE":n.vmModel.startDate=moment(n.params.startFiveMonth,"YYYY年MM月").format("YYYY-MM")+"-"+n.params.startFiveDay.code,n.vmModel.endDate=moment(n.params.endFiveMonth,"YYYY年MM月").format("YYYY-MM")+"-"+n.params.endFiveDay.code,n.vmModel.queryDateText=n.params.startFiveMonth+n.params.startFiveDay.name+" 至 "+n.params.endFiveMonth+n.params.endFiveDay.name;break;case"PERIOD":n.vmModel.startDate=moment(n.params.startPeriodMonth,"YYYY年MM月").format("YYYY-MM")+"-"+n.params.startPeriodDay.code,n.vmModel.endDate=moment(n.params.endPeriodMonth,"YYYY年MM月").format("YYYY-MM")+"-"+n.params.endPeriodDay.code,n.vmModel.queryDateText=n.params.startPeriodMonth+n.params.startPeriodDay.name+" 至 "+n.params.endPeriodMonth+n.params.endPeriodDay.name;break;case"MON":n.vmModel.startDate=moment(n.params.startMonth,"YYYY年MM月").format("YYYY-MM"),n.vmModel.endDate=moment(n.params.endMonth,"YYYY年MM月").format("YYYY-MM"),n.vmModel.queryDateText=n.params.startMonth+" 至 "+n.params.endMonth;break;case"SEASON":n.vmModel.startDate=moment(n.params.startSeasonYear,"YYYY年").format("YYYY")+"-"+n.params.startSeasonDay.name,n.vmModel.endDate=moment(n.params.endSeasonYear,"YYYY年").format("YYYY")+"-"+n.params.endSeasonDay.name,n.vmModel.queryDateText=n.params.startSeasonYear+n.params.startSeasonDay.name+" 至 "+n.params.endSeasonYear+n.params.endSeasonDay.name;break;case"YEAR":n.vmModel.startDate=moment(n.params.startYear,"YYYY年").format("YYYY"),n.vmModel.endDate=moment(n.params.endYear,"YYYY年").format("YYYY"),n.vmModel.queryDateText=n.params.startYear+" 至 "+n.params.endYear}},n.doSearch=function(){n.formatDate(),n.doOk()},i(function(){!function(){laydate.render({elem:"#inputDay",format:"yyyy年MM月dd日",type:"date",value:n.vmModel.queryDate?moment(n.vmModel.queryDate).format("YYYY年MM月DD日"):moment().format("YYYY年MM月DD日")}),laydate.render({elem:"#inputStartDay",format:"yyyy年MM月dd日",type:"date",value:n.vmModel.startDate?moment(n.vmModel.startDate).format("YYYY年MM月DD日"):moment().format("YYYY年MM月DD日")}),laydate.render({elem:"#inputEndDay",format:"yyyy年MM月dd日",type:"date",value:n.vmModel.endDate?moment(n.vmModel.endDate).format("YYYY年MM月DD日"):moment().format("YYYY年MM月DD日")}),laydate.render({elem:"#inputFive",format:"yyyy年MM月",type:"month",value:n.vmModel.queryDate?moment(n.vmModel.queryDate).format("YYYY年MM月"):moment().format("YYYY年MM月")}),laydate.render({elem:"#inputStartFive",format:"yyyy年MM月",type:"month",value:n.vmModel.startDate?moment(n.vmModel.startDate).format("YYYY年MM月"):moment().format("YYYY年MM月")}),laydate.render({elem:"#inputEndFive",format:"yyyy年MM月",type:"month",value:n.vmModel.endDate?moment(n.vmModel.endDate).format("YYYY年MM月"):moment().format("YYYY年MM月")}),n.params.fiveDay=n.fives[0],n.params.startFiveDay=n.fives[0],n.params.endFiveDay=n.fives[0],laydate.render({elem:"#inputPeriod",format:"yyyy年MM月",type:"month",value:n.vmModel.queryDate?moment(n.vmModel.queryDate).format("YYYY年MM月"):moment().format("YYYY年MM月")}),laydate.render({elem:"#inputStartPeriod",format:"yyyy年MM月",type:"month",value:n.vmModel.startDate?moment(n.vmModel.startDate).format("YYYY年MM月"):moment().format("YYYY年MM月")}),laydate.render({elem:"#inputEndPeriod",format:"yyyy年MM月",type:"month",value:n.vmModel.endDate?moment(n.vmModel.endDate).format("YYYY年MM月"):moment().format("YYYY年MM月")}),n.params.periodDay=n.periods[0],n.params.startPeriodDay=n.periods[0],n.params.endPeriodDay=n.periods[0],laydate.render({elem:"#inputMonth",format:"yyyy年MM月",type:"month",value:n.vmModel.queryDate?moment(n.vmModel.queryDate).format("YYYY年MM月"):moment().format("YYYY年MM月")}),laydate.render({elem:"#inputStartMonth",format:"yyyy年MM月",type:"month",value:n.vmModel.startDate?moment(n.vmModel.startDate).format("YYYY年MM月"):moment().format("YYYY年MM月")}),laydate.render({elem:"#inputEndMonth",format:"yyyy年MM月",type:"month",value:n.vmModel.endDate?moment(n.vmModel.endDate).format("YYYY年MM月"):moment().format("YYYY年MM月")}),laydate.render({elem:"#inputSeason",format:"yyyy年",type:"year",value:n.vmModel.queryDate?moment(n.vmModel.queryDate).format("YYYY年"):moment().format("YYYY年")}),laydate.render({elem:"#inputStartSeason",format:"yyyy年",type:"year",value:n.vmModel.startDate?moment(n.vmModel.startDate).format("YYYY年"):moment().format("YYYY年")}),laydate.render({elem:"#inputEndSeason",format:"yyyy年",type:"year",value:n.vmModel.endDate?moment(n.vmModel.endDate).format("YYYY年"):moment().format("YYYY年")}),n.params.seasonDay=n.seasons[0],n.params.startSeasonDay=n.seasons[0],n.params.endSeasonDay=n.seasons[0],laydate.render({elem:"#inputYear",format:"yyyy年",type:"year",value:n.vmModel.queryDate?moment(n.vmModel.queryDate).format("YYYY年"):moment().format("YYYY年")}),laydate.render({elem:"#inputStartYear",format:"yyyy年",type:"year",value:n.vmModel.startDate?moment(n.vmModel.startDate).format("YYYY年"):moment().format("YYYY年")}),laydate.render({elem:"#inputEndYear",format:"yyyy年",type:"year",value:n.vmModel.endDate?moment(n.vmModel.endDate).format("YYYY年"):moment().format("YYYY年")});var t=n.vmModel.dateType?n.vmModel.dateType:n.showItems.split(",")[0];$("#btn_"+t).addClass("active");var e=$("#btn_"+t).attr("data-target");$(e).addClass("active show"),n.doSearch()}()},100)}}}function e(o,t,i){return{replace:!0,restrict:"E",scope:{vmModel:"=",doOk:"&"},template:"<div></div>",link:function(n,t,e){var r;n.params={},r=$("<div class='p-2 area'>\n    <button type='button' class='btn btn-sm btn-raised btn-outline-secondary btn-80 mb-1 lately active' ng-click='chooseLately($event,1)'>近1天</button>\n    <button type='button' class='btn btn-sm btn-raised btn-outline-secondary btn-80 mb-1 lately' ng-click='chooseLately($event,5)'>近5天</button>\n    <button type='button' class='btn btn-sm btn-raised btn-outline-secondary btn-80 mb-1 lately' ng-click='chooseLately($event,7)'>近7天</button>\n    <button type='button' class='btn btn-sm btn-raised btn-outline-secondary btn-80 mb-1 lately' ng-click='chooseLately($event,10)'>近10天</button>\n    <button type='button' class='btn btn-sm btn-raised btn-outline-secondary btn-80 mb-1 lately' ng-click='chooseLately($event,20)'>近20天</button>\n    <button type='button' class='btn btn-sm btn-raised btn-outline-secondary btn-80 mb-1 lately' ng-click='chooseLately($event,0)'>本月至今</button>\n</div>\n<div class='p-2 flex-grow-1 '>\n    <div class='row'>\n        <div class='col-4 pt-1 pr-0'><nobr>开始日期</nobr></div>\n        <div class='col-8 pl-0'>\n            <input type='text' id='startDate' class='form-control p-1' ng-model='params.startDate' autocomplete='off' placeholder='起始日期'>\n        </div>\n    </div>\n    <div class='row pt-2'>\n        <div class='col-4 pt-1 pr-0'><nobr>结束日期</nobr></div>\n        <div class='col-8 pl-0'>\n            <input type='text' id='endDate' class='form-control p-1' ng-model='params.endDate' autocomplete='off' placeholder='结束日期'>\n        </div>\n    </div>\n</div>\n<div class='row  flex-grow-1'>\n    <div class='col mr-2'>\n        <button class='btn btn-raised btn-sm btn-primary btn-57 float-right' ng-click='doSearch()'>\n            <i class='fa fa-search'></i>查询\n        </button>\n    </div>\n</div>"),t.append(r),o(t.contents())(n),n.chooseLately=function(t,e){$(".lately").removeClass("active"),$(t.target).addClass("active"),n.params.endDate=0==e?(n.params.startDate=moment().startOf("month").format("YYYY年MM月DD日"),moment().format("YYYY年MM月DD日")):(n.params.startDate=moment().subtract(e,"d").format("YYYY年MM月DD日"),moment().subtract(1,"d").format("YYYY年MM月DD日"))},n.doSearch=function(){n.vmModel.startDate=dateFormator(n.params.startDate,"YYYY-MM-DD"),n.vmModel.endDate=dateFormator(n.params.endDate,"YYYY-MM-DD"),n.vmModel.dateValue=dateFormator(n.params.startDate,"YYYY-MM-DD")+"-"+dateFormator(n.params.endDate,"YYYY-MM-DD"),n.vmModel.dateText=dateFormator(n.params.startDate,"YYYY年MM月DD日")+"-"+dateFormator(n.params.endDate,"YYYY年MM月DD日"),n.doOk()},i(function(){laydate.render({elem:"#startDate",format:"yyyy年MM月dd日",type:"date",value:n.vmModel.startDate?moment(n.vmModel.startDate).format("YYYY年MM月DD日"):moment().format("YYYY年MM月DD日")}),laydate.render({elem:"#endDate",format:"yyyy年MM月dd日",type:"date",value:n.vmModel.endDate?moment(n.vmModel.endDate).format("YYYY年MM月DD日"):moment().format("YYYY年MM月DD日")}),(n.vmModel.startDate||n.vmModel.endDate)&&n.doSearch()},10)}}}function n(i,t,a){return{replace:!0,restrict:"E",scope:{vmModel:"="},template:"<div></div>",link:function(o,n,r){o.params={},o.years=[],o.months=[{name:"1月",value:1},{name:"2月",value:2},{name:"3月",value:3},{name:"4月",value:4},{name:"5月",value:5},{name:"6月",value:6},{name:"7月",value:7},{name:"8月",value:8},{name:"9月",value:9},{name:"10月",value:10},{name:"11月",value:11},{name:"12月",value:12}],o.begDays=[],o.endDays=[],o.renderBegModel=function(){o.vmModel.startDate=moment(o.begYear+"-"+o.begMonth+"-"+o.begDay,"YYYY-M-D").format("YYYY-MM-DD")},o.renderEndModel=function(){o.vmModel.endDate=moment(o.endYear+"-"+o.endMonth+"-"+o.endDay,"YYYY-M-D").format("YYYY-MM-DD")},o.renderBegDays=function(){if(o.begDays=[],o.begYear&&o.begMonth){var t=moment(o.begYear+"-"+o.begMonth,"YYYY-M").endOf("month").get("date");o.begDay>t&&(o.begDay=t);for(var e=1;e<=t;e++)o.begDays.push({name:e+"日",value:e});a(function(){$("#"+r.id+"_begYear").selectpicker("refresh"),$("#"+r.id+"_begMonth").selectpicker("refresh"),$("#"+r.id+"_begDay").selectpicker("refresh")},1),o.renderBegModel()}},o.renderEndDays=function(){if(o.endDays=[],o.endYear&&o.endMonth){var t=moment(o.endYear+"-"+o.endMonth,"YYYY-M").endOf("month").get("date");o.endDay>t&&(o.endDay=t);for(var e=1;e<=t;e++)o.endDays.push({name:e+"日",value:e});a(function(){$("#"+r.id+"_endYear").selectpicker("refresh"),$("#"+r.id+"_endMonth").selectpicker("refresh"),$("#"+r.id+"_endDay").selectpicker("refresh")},1),o.renderEndModel()}},function(){for(var t=moment().get("year");1951<=t;t--)o.years.push({name:t+"年",value:t});o.begYear=2e3,o.begMonth=1,o.begDay=1;var e=moment();if(o.endYear=e.get("year"),o.endMonth=e.get("month")+1,o.endDay=e.get("date"),o.vmModel){if(o.vmModel.startDate){var n=moment(o.vmModel.startDate,"YYYY-MM-DD");o.begYear=n.get("year"),o.begMonth=n.get("month")+1,o.begDay=n.get("date"),o.renderBegDays()}if(o.vmModel.endDate){var r=moment(o.vmModel.endDate,"YYYY-MM-DD");o.endYear=r.get("year"),o.endMonth=r.get("month")+1,o.endDay=r.get("date"),o.renderEndDays()}}}(),function(){var t=$('<div class="row">\n    <div class="col-4 pt-1">\n        <nobr>开始年份</nobr>\n    </div>\n    <div class="col-8 p-0">\n        <select id="'+r.id+'_begYear"  ng-model="begYear" ng-change="renderBegDays()" class="form-control selectpicker" style="width: 130px;" ng-options="m.value as m.name for m in years"></select>\n    </div>\n</div>\n<div class="row">\n    <div class="col-4 pt-1">\n        <nobr>结束年份</nobr>\n    </div>\n    <div class="col-8 p-0  pt-1">\n        <select id="'+r.id+'_endYear"  ng-model="endYear" ng-change="renderEndDays()" class="form-control selectpicker" style="width: 130px;" ng-options="m.value as m.name for m in years"></select>\n    </div>\n</div>\n<div class="row pt-2">\n    <div class="col-4 pt-1"><nobr>开始日期</nobr></div>\n    <div class="col-8 p-0">\n        <div class="row">\n            <div class="col-6 pr-1">\n                <select id="'+r.id+'_begMonth"  ng-model="begMonth" ng-change="renderBegDays()" class="form-control selectpicker" style="width: 50px;" ng-options="m.value as m.name for m in months"></select>\n            </div>\n            <div class="col-6 pl-1">\n                <select id="'+r.id+'_begDay" ng-model="begDay" ng-change="renderBegModel()" class="form-control selectpicker" style="width: 50px;" ng-options="day.value as day.name for day in begDays"></select>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="row pt-2">\n    <div class="col-4 pt-1"><nobr>结束日期</nobr></div>\n    <div class="col-8 p-0">\n        <div class="row">\n            <div class="col-6 pr-1">\n                <select id="'+r.id+'_endMonth"  ng-model="endMonth" ng-change="renderEndDays()" class="form-control selectpicker" style="width: 50px;" ng-options="m.value as m.name for m in months"></select>\n            </div>\n            <div class="col-6 pl-1">\n                <select id="'+r.id+'_endDay" ng-model="endDay" ng-change="renderEndModel()" class="form-control selectpicker" style="width: 50px;" ng-options="day.value as day.name for day in endDays"></select>\n            </div>\n        </div>\n    </div>\n</div>');n.append(t),i(n.contents())(o);var e={noneSelectedText:"请选择",size:5};$("#"+r.id+"_begYear").selectpicker(e),$("#"+r.id+"_begMonth").selectpicker(e),$("#"+r.id+"_begDay").selectpicker(e),$("#"+r.id+"_endYear").selectpicker(e),$("#"+r.id+"_endMonth").selectpicker(e),$("#"+r.id+"_endDay").selectpicker(e)}()}}}angular.module("app.core").directive("datePicker",t).directive("dateLatelyPicker",e).directive("dateRegionPicker",n).directive("dateRegionPicker",n),t.$inject=["$compile","$parse","$timeout"],e.$inject=["$compile","$parse","$timeout"],n.$inject=["$compile","$parse","$timeout"]}(),String.prototype.ReplaceAll=function(t,e){return RegExp.prototype.isPrototypeOf(t)?this.replace(t,e):this.replace(new RegExp(t,"g"),e)};